<!DOCTYPE html>
<html>
<head>
    <title>Finance Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-image: url('{{ url_for('static', filename='images/bg.jpg') }}');
            background-size: cover;
            font-family: Arial, sans-serif;
            color: #fff;
        }
        .container {
            background-color: rgba(0, 0, 0, 0.75);
            padding: 20px;
            margin: 50px auto;
            border-radius: 10px;
            max-width: 900px;
        }
        h1, h2, h3 {
            text-align: center;
            color: #00e6e6;
        }
        .buttons {
            text-align: center;
            margin-top: 20px;
        }
        .buttons a {
            margin: 10px;
            padding: 10px 20px;
            background-color: #00b3b3;
            color: white;
            border-radius: 5px;
            text-decoration: none;
        }
        .buttons a:hover {
            background-color: #008080;
        }
        canvas {
            display: block;
            margin: 30px auto;
            background: #fff;
            border-radius: 10px;
            padding: 10px;
            max-width: 600px;
        }
        .summary {
            background-color: #1a1a1a;
            padding: 15px;
            margin-top: 20px;
            border-radius: 10px;
        }
        .summary ul {
            list-style: none;
            padding: 0;
        }
        .summary li {
            margin: 10px 0;
            font-size: 1.1em;
            color: #cccccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome, {{ user }}!</h1>
        <h2>ðŸ’¡ Thought of the Day: "{{ thought }}"</h2>
        <h2>ðŸ“˜ Financial Word of the Day: "{{ word }}"</h2>

        <div class="buttons">
            <a href="{{ url_for('advisor') }}">Advisor</a>
            <a href="{{ url_for('portfolio') }}">Portfolio</a>
            <a href="{{ url_for('investment') }}">Investment</a>
            <a href="{{ url_for('transaction') }}">Transaction</a>
            <a href="{{ url_for('goals') }}">Goals</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        </div>

        {% if chart_labels and chart_values %}
        <h3>Your Portfolio Distribution</h3>
        <canvas id="portfolioChart" width="400" height="400"></canvas>

        <div class="summary">
            <h3>Portfolio Summary</h3>
            <ul>
                {% for label, value in zip(chart_labels, chart_values) %}
                    <li>{{ label }}: â‚¹{{ value }}</li>
                {% endfor %}
            </ul>
        </div>

        <script>
            const ctx = document.getElementById('portfolioChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: {{ chart_labels | tojson }},
                    datasets: [{
                        label: 'Portfolio Distribution',
                        data: {{ chart_values | tojson }},
                        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF']
                    }]
                },
                options: {
                    responsive: true
                }
            });
        </script>
        {% else %}
            <h3 style="text-align:center; color:#ff9999;">No portfolio data available to display.</h3>
        {% endif %}
    </div>
</body>
</html>

